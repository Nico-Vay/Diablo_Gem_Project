<!DOCTYPE html>
<html lang="en">
<style>
    /* Styling for marked elements */
    .marked {
        background-color: yellow;
    }
</style>
<body onload="updateList();">

<h1> Liste Aller Gems </h1>

<div id="list">

</div>
<button onclick="markAndSubmit()">Mark and Submit</button>

<script>
function markAndSubmit() {
    var markedData = getMarkedSubchildren();
    if (markedData.length === 0) {
        alert("Please mark a subchild before submitting.");
        return;
    }
    
    // Create a hidden input field to hold the marked data
    var markedDataInput = document.createElement('input');
    markedDataInput.setAttribute('type', 'hidden');
    markedDataInput.setAttribute('name', 'markedData');
    markedDataInput.setAttribute('value', markedData);

    // Append the hidden input field to the form
    document.body.appendChild(markedDataInput);

    // Submit the form
    // Replace 'formID' with the ID of your form
    //document.getElementById("marked").requestSubmit();
	calcPrice();
}

function toggleMarking(element) {
    element.classList.toggle('marked');
}

function getMarkedSubchildren() {
    var markedSubchildren = [];
    var markedElements = document.querySelectorAll('.marked');

    markedElements.forEach(function(element) {
        markedSubchildren.push(element.textContent.trim());
    });

    return markedSubchildren.join(', ');
}
</script>



<!-- Replace 'action' and 'method' attributes with your form's action and method -->
<form id="marked" onsubmit="getAllGems()">
</form>

<script>
document.querySelectorAll('.gem').forEach(function(element) {
    element.addEventListener('click', function() {
        toggleMarking(this);
    });
});
</script>
<script src="dist/database.js" defer></script>
</body>


</html>